<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>New-AcctADAccount - Citrix PowerShell SDK Documentation</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/highlight.css">
  <link rel="stylesheet" href="../../css/override.css" type="text/css" />
  <link rel="stylesheet" href="../../css/font-awesome.css" type="text/css" />

  
  <script>
    // Current page data
    var mkdocs_page_name = "New-AcctADAccount";
    var mkdocs_page_input_path = "ADIdentity/New-AcctADAccount.md";
    var mkdocs_page_url = "/ADIdentity/New-AcctADAccount/";
  </script>
  
  <script src="../../js/jquery-1.10.2.min.js"></script>
  <script src="../../js/bootstrap-3.0.3.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/base.js"></script>
  <script src="../../js/custom.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document" data-spy="scroll" data-target=".bs-sidebar">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://citrix.github.io" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="../..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
			<div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#syntax">Syntax</a></li>
        
    
        <li class="main "><a href="#detailed-description">Detailed Description</a></li>
        
    
        <li class="main "><a href="#related-commands">Related Commands</a></li>
        
    
        <li class="main "><a href="#parameters">Parameters</a></li>
        
    
        <li class="main "><a href="#input-type">Input Type</a></li>
        
    
        <li class="main "><a href="#return-values">Return Values</a></li>
        
            <li><a href="#citrixadidentitysdkaccountoperationdetailedsummary-the-add-acctadaccount-returns-an-object-that-contains-the-following-parameters-successfulaccountscount-the-number-of-accounts-that-were-added-successfully-failedaccountscount-the-number-of-accounts-that-were-not-added-failedaccounts-the-list-of-accounts-that-failed-to-be-added-each-one-has-the-following-parameters-adaccountname-adaccountsid-errorreason-this-can-be-one-of-the-following-identityduplicateobjectexists-an-identity-with-the-same-sid-already-exists-adservicedatabaseerror-an-error-occurred-in-the-service-while-attempting-a-database-operation-adservicedatabasenotconfigured-the-operation-could-not-be-completed-because-the-database-for-the-service-is-not-configured-adservicestatusinvaliddb-an-error-occurred-in-the-service-while-attempting-a-database-operation-communication-with-the-database-failed-for-for-various-reasons-failedtoconnecttodomaincontroller-contacting-active-directory-failed-failedtogetorganizationunitinad-failed-to-access-the-ou-in-active-directory-failedtogetdefaultcomputercontainerinad-failed-to-access-the-default-computers-container-in-active-directory-failedtocreatecomputeraccountinad-failed-to-create-the-computer-account-in-active-directory-failedtoaccesscomputeraccountinad-failed-to-read-the-newly-created-computer-account-in-active-directory-failedtogetsidfromad-failed-to-get-the-sid-for-the-created-account-from-active-directory-failedtosetsamaccountnameinad-failed-to-set-the-sam-account-name-in-active-directory-for-the-account-created-failedtosetuseraccountcontrolinad-failed-to-set-the-user-account-controller-properties-for-the-account-created-in-active-directory-failedtosavechangeinad-failed-to-save-the-changes-made-to-the-created-computer-account-in-active-directory-failedtosetpasswordinad-failed-to-set-the-password-for-the-created-computer-account-in-active-directory-failedtoenableaccountinad-failed-to-enable-the-newly-created-computer-account-in-active-directory-computernamealreadyinuseinad-the-computer-name-for-the-computer-to-create-is-in-use-in-active-directory-failedtogetdistinguishednameinad-failed-to-get-the-distinguished-name-for-the-created-computer-account-in-activedirectory-failedtosetdnshostnameinad-failed-to-set-the-dns-host-name-property-for-the-created-computer-account-in-activedirectory-failedtosetdisplaynameinad-failed-to-set-the-displayname-property-for-the-created-computer-account-in-activedirectory-failedtowriteserviceprincipalnameinad-failed-to-set-the-serviceprincipalname-property-for-the-created-computer-account-in-activedirectory-diagnosticinformtion-any-other-error-information-successfulaccounts-the-list-of-accounts-that-were-successfully-added-each-object-provides-details-of-the-identity-and-contains-the-following-information-adaccountsid-the-sid-of-the-identity-adaccountname-the-account-name-for-the-identity-domain-the-domain-name-that-the-account-was-created-in-state-the-current-state-of-the-ad-account-this-can-be-one-of-the-following-error-the-account-is-locked-or-disabled-in-ad-available-the-account-is-in-ad-and-available-to-be-consumed-by-the-other-machine-creation-services-inuse-the-account-is-in-ad-and-is-being-consumed-by-the-other-machine-creation-services-tainted-the-account-is-in-ad-and-no-longer-consumed-by-other-machine-creation-services-however-the-password-is-no-longer-known-so-cannot-be-reused-without-repairing-the-account-see-repair-acctadaccount-for-details-lock-indicates-if-the-identity-pool-is-locked">Citrix.ADIdentity.Sdk.AccountOperationDetailedSummary          The Add-AcctADAccount returns an object that contains the following parameters;          SuccessfulAccountsCount             The number of accounts that were added successfully          FailedAccountsCount             The number of accounts that were not added.          FailedAccounts             The list of accounts that failed to be added.  Each one has the following parameters;            ADAccountName             ADAccountSid             ErrorReason             This can be one of the following              IdentityDuplicateObjectExists                An identity with the same SID already exists.              ADServiceDatabaseError                  An error occurred in the service while attempting a database operation.              ADServiceDatabaseNotConfigured                  The operation could not be completed because the database for the service is not configured.              ADServiceStatusInvalidDb                  An error occurred in the service while attempting a database operation - communication with the database failed for                  for various reasons.              FailedToConnectToDomainController                Contacting Active Directory failed.              FailedToGetOrganizationUnitInAD                Failed to access the OU in Active Directory.              FailedToGetDefaultComputerContainerInAD                Failed to access the default computers container in Active Directory.              FailedToCreateComputerAccountInAD                Failed to create the computer account in Active Directory.              FailedToAccessComputerAccountInAD                Failed to read the newly created computer account in Active Directory.              FailedToGetSidFromAD                Failed to get the SID for the created account from Active Directory.              FailedToSetSamAccountNameInAD                Failed to set the SAM account name in Active Directory for the account created.              FailedToSetUserAccountControlInAD                Failed to set the user account controller properties for the account created in Active Directory.              FailedToSaveChangeInAD                Failed to save the changes made to the created computer account in Active Directory.              FailedToSetPasswordInAD                Failed to set the password for the created computer account in Active Directory.              FailedToEnableAccountInAD                Failed to enable the newly created computer account in Active Directory.              ComputerNameAlreadyInUseInAD                The computer name for the computer to create is in use in Active Directory.              FailedToGetDistinguishedNameInAD                Failed to get the distinguished name for the created computer account in ActiveDirectory.              FailedToSetDnsHostNameInAD                Failed to set the Dns Host Name property for the created computer account in ActiveDirectory.              FailedToSetDisplayNameInAD                Failed to set the DisplayName property for the created computer account in ActiveDirectory.              FailedToWriteServicePrincipalNameInAD                Failed to set the ServicePrincipalName property for the created computer account in ActiveDirectory.            DiagnosticInformtion               Any other error information          SuccessfulAccounts             The list of accounts that were successfully added.  Each object            provides details of the identity and contains the following information:            ADAccountSID                 The Sid of the identity.            ADAccountName                       The account name for the identity.                      Domain                 The domain name that the account was created in.            State                 The current state of the AD account. This can be one of the following:                Error                   The account is locked or disabled in AD.                Available                   The account is in AD and available to be consumed by the other Machine Creation Services.                InUse                   The account is in AD and is being consumed by the other Machine Creation Services.                Tainted                   The account is in AD and no longer consumed by other Machine Creation Services. However, the password is no longer known so cannot be reused without 'Repairing' the account.  See repair-AcctADAccount for details.            Lock                 Indicates if the identity pool is locked.</a></li>
        
    
        <li class="main "><a href="#examples">Examples</a></li>
        
            <li><a href="#example-1">EXAMPLE 1</a></li>
        
            <li><a href="#example-2">EXAMPLE 2</a></li>
        
    
    </ul>
</div>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>ADIdentity &raquo;</li>
        
      
    
    <li>New-AcctADAccount</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p>ï»¿# New-AcctADAccount</p>
<p>Creates AD computer accounts in the specified identity pool.</p>
<h2 id="syntax"><a class="toclink" href="#syntax">Syntax</a></h2>
<div class="codehilite"><pre><span></span>New-AcctADAccount [-IdentityPoolName] &lt;String&gt; -Count &lt;Int32&gt; [-StartCount &lt;Int32&gt;] [-ADUserName &lt;String&gt;] [-ADPassword &lt;SecureString&gt;] [-LoggingId &lt;Guid&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]

New-AcctADAccount [-IdentityPoolName] &lt;String&gt; -ADAccountName &lt;String[]&gt; [-ADUserName &lt;String&gt;] [-ADPassword &lt;SecureString&gt;] [-LoggingId &lt;Guid&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]

New-AcctADAccount -IdentityPoolUid &lt;Guid&gt; -Count &lt;Int32&gt; [-StartCount &lt;Int32&gt;] [-ADUserName &lt;String&gt;] [-ADPassword &lt;SecureString&gt;] [-LoggingId &lt;Guid&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]

New-AcctADAccount -IdentityPoolUid &lt;Guid&gt; -ADAccountName &lt;String[]&gt; [-ADUserName &lt;String&gt;] [-ADPassword &lt;SecureString&gt;] [-LoggingId &lt;Guid&gt;] [-AdminAddress &lt;String&gt;] [&lt;CommonParameters&gt;]
</pre></div>


<h2 id="detailed-description"><a class="toclink" href="#detailed-description">Detailed Description</a></h2>
<p>Provides the ability to create new AD computer accounts and register them in an already existing identity pool.</p>
<p>The accounts are created using the information stored in the identity pool. This provides the account name (via the Naming Scheme property and Start Count), domain, and OU.</p>
<p>The runspace used for this command must have sufficient privileges in Active Directory to create the new computer accounts.</p>
<p>The AD account names will pad the index to use all the space specified in the identity pool naming scheme (e.g. "acc###" will become "acc001"). However, if the index overflows the available space the cmdlet expands the format to use the next incremental number (e.g. "acc###" will become "acc1000" if the index is 10000, which cannot fit into the three '#' placeholders). If this expanded name exceeds the 15 character name limit, the accounts are not created.</p>
<p>There can be only one creation process running for a specific identity pool at any one time. Attempting to start another account creation process while an existing one is executing results in an error being returned.</p>
<h2 id="related-commands"><a class="toclink" href="#related-commands">Related Commands</a></h2>
<ul>
<li><a href="../Add-AcctADAccount.html">Add-AcctADAccount</a></li>
<li><a href="../Remove-AcctADAccount.html">Remove-AcctADAccount</a></li>
<li><a href="../Get-AcctADAccount.html">Get-AcctADAccount</a></li>
<li><a href="../Repair-AcctADAccount.html">Repair-AcctADAccount</a></li>
<li><a href="../Unlock-AcctADAccount.html">Unlock-AcctADAccount</a></li>
<li><a href="../Update-AcctADAccount.html">Update-AcctADAccount</a></li>
</ul>
<h2 id="parameters"><a class="toclink" href="#parameters">Parameters</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
<th>Required?</th>
<th>Pipeline Input</th>
<th>Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>IdentityPoolName</td>
<td>The name of the identity pool in which to create the accounts.</td>
<td>true</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>Count</td>
<td>The number of accounts to create.</td>
<td>true</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ADAccountName</td>
<td>The AD account names to be created.  These are just the simple machine account names e.g. MyVM001</td>
<td>true</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>IdentityPoolUid</td>
<td>The unique identifier for the identity pool in which the accounts will be created.</td>
<td>true</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>StartCount</td>
<td>The start index for the create process.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ADUserName</td>
<td>The username for an Active Directoy user account with Write Permissions. This parameter is only used in Cloud deployments.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>ADPassword</td>
<td>The matching password for an Active Directoy user account with Write Permissions. This parameter is only used in Cloud deployments.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>LoggingId</td>
<td>Specifies the identifier of the high-level operation this cmdlet call forms a part of. Citrix Studio and Director typically create high-level operations. PowerShell scripts can also wrap a series of cmdlet calls in a high-level operation by way of the Start-LogHighLevelOperation and Stop-LogHighLevelOperation cmdlets.</td>
<td>false</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>AdminAddress</td>
<td>Specifies the address of a XenDesktop controller that the PowerShell snap-in connects to.  You can provide this as a host name or an IP address.</td>
<td>false</td>
<td>false</td>
<td>LocalHost. Once a value is provided by any cmdlet, this value becomes the default.</td>
</tr>
</tbody>
</table>
<h2 id="input-type"><a class="toclink" href="#input-type">Input Type</a></h2>
<h3 id="_1"><a class="toclink" href="#_1"></a></h3>
<h2 id="return-values"><a class="toclink" href="#return-values">Return Values</a></h2>
<h3 id="citrixadidentitysdkaccountoperationdetailedsummary-the-add-acctadaccount-returns-an-object-that-contains-the-following-parameters-successfulaccountscount-the-number-of-accounts-that-were-added-successfully-failedaccountscount-the-number-of-accounts-that-were-not-added-failedaccounts-the-list-of-accounts-that-failed-to-be-added-each-one-has-the-following-parameters-adaccountname-adaccountsid-errorreason-this-can-be-one-of-the-following-identityduplicateobjectexists-an-identity-with-the-same-sid-already-exists-adservicedatabaseerror-an-error-occurred-in-the-service-while-attempting-a-database-operation-adservicedatabasenotconfigured-the-operation-could-not-be-completed-because-the-database-for-the-service-is-not-configured-adservicestatusinvaliddb-an-error-occurred-in-the-service-while-attempting-a-database-operation-communication-with-the-database-failed-for-for-various-reasons-failedtoconnecttodomaincontroller-contacting-active-directory-failed-failedtogetorganizationunitinad-failed-to-access-the-ou-in-active-directory-failedtogetdefaultcomputercontainerinad-failed-to-access-the-default-computers-container-in-active-directory-failedtocreatecomputeraccountinad-failed-to-create-the-computer-account-in-active-directory-failedtoaccesscomputeraccountinad-failed-to-read-the-newly-created-computer-account-in-active-directory-failedtogetsidfromad-failed-to-get-the-sid-for-the-created-account-from-active-directory-failedtosetsamaccountnameinad-failed-to-set-the-sam-account-name-in-active-directory-for-the-account-created-failedtosetuseraccountcontrolinad-failed-to-set-the-user-account-controller-properties-for-the-account-created-in-active-directory-failedtosavechangeinad-failed-to-save-the-changes-made-to-the-created-computer-account-in-active-directory-failedtosetpasswordinad-failed-to-set-the-password-for-the-created-computer-account-in-active-directory-failedtoenableaccountinad-failed-to-enable-the-newly-created-computer-account-in-active-directory-computernamealreadyinuseinad-the-computer-name-for-the-computer-to-create-is-in-use-in-active-directory-failedtogetdistinguishednameinad-failed-to-get-the-distinguished-name-for-the-created-computer-account-in-activedirectory-failedtosetdnshostnameinad-failed-to-set-the-dns-host-name-property-for-the-created-computer-account-in-activedirectory-failedtosetdisplaynameinad-failed-to-set-the-displayname-property-for-the-created-computer-account-in-activedirectory-failedtowriteserviceprincipalnameinad-failed-to-set-the-serviceprincipalname-property-for-the-created-computer-account-in-activedirectory-diagnosticinformtion-any-other-error-information-successfulaccounts-the-list-of-accounts-that-were-successfully-added-each-object-provides-details-of-the-identity-and-contains-the-following-information-adaccountsid-the-sid-of-the-identity-adaccountname-the-account-name-for-the-identity-domain-the-domain-name-that-the-account-was-created-in-state-the-current-state-of-the-ad-account-this-can-be-one-of-the-following-error-the-account-is-locked-or-disabled-in-ad-available-the-account-is-in-ad-and-available-to-be-consumed-by-the-other-machine-creation-services-inuse-the-account-is-in-ad-and-is-being-consumed-by-the-other-machine-creation-services-tainted-the-account-is-in-ad-and-no-longer-consumed-by-other-machine-creation-services-however-the-password-is-no-longer-known-so-cannot-be-reused-without-repairing-the-account-see-repair-acctadaccount-for-details-lock-indicates-if-the-identity-pool-is-locked"><a class="toclink" href="#citrixadidentitysdkaccountoperationdetailedsummary-the-add-acctadaccount-returns-an-object-that-contains-the-following-parameters-successfulaccountscount-the-number-of-accounts-that-were-added-successfully-failedaccountscount-the-number-of-accounts-that-were-not-added-failedaccounts-the-list-of-accounts-that-failed-to-be-added-each-one-has-the-following-parameters-adaccountname-adaccountsid-errorreason-this-can-be-one-of-the-following-identityduplicateobjectexists-an-identity-with-the-same-sid-already-exists-adservicedatabaseerror-an-error-occurred-in-the-service-while-attempting-a-database-operation-adservicedatabasenotconfigured-the-operation-could-not-be-completed-because-the-database-for-the-service-is-not-configured-adservicestatusinvaliddb-an-error-occurred-in-the-service-while-attempting-a-database-operation-communication-with-the-database-failed-for-for-various-reasons-failedtoconnecttodomaincontroller-contacting-active-directory-failed-failedtogetorganizationunitinad-failed-to-access-the-ou-in-active-directory-failedtogetdefaultcomputercontainerinad-failed-to-access-the-default-computers-container-in-active-directory-failedtocreatecomputeraccountinad-failed-to-create-the-computer-account-in-active-directory-failedtoaccesscomputeraccountinad-failed-to-read-the-newly-created-computer-account-in-active-directory-failedtogetsidfromad-failed-to-get-the-sid-for-the-created-account-from-active-directory-failedtosetsamaccountnameinad-failed-to-set-the-sam-account-name-in-active-directory-for-the-account-created-failedtosetuseraccountcontrolinad-failed-to-set-the-user-account-controller-properties-for-the-account-created-in-active-directory-failedtosavechangeinad-failed-to-save-the-changes-made-to-the-created-computer-account-in-active-directory-failedtosetpasswordinad-failed-to-set-the-password-for-the-created-computer-account-in-active-directory-failedtoenableaccountinad-failed-to-enable-the-newly-created-computer-account-in-active-directory-computernamealreadyinuseinad-the-computer-name-for-the-computer-to-create-is-in-use-in-active-directory-failedtogetdistinguishednameinad-failed-to-get-the-distinguished-name-for-the-created-computer-account-in-activedirectory-failedtosetdnshostnameinad-failed-to-set-the-dns-host-name-property-for-the-created-computer-account-in-activedirectory-failedtosetdisplaynameinad-failed-to-set-the-displayname-property-for-the-created-computer-account-in-activedirectory-failedtowriteserviceprincipalnameinad-failed-to-set-the-serviceprincipalname-property-for-the-created-computer-account-in-activedirectory-diagnosticinformtion-any-other-error-information-successfulaccounts-the-list-of-accounts-that-were-successfully-added-each-object-provides-details-of-the-identity-and-contains-the-following-information-adaccountsid-the-sid-of-the-identity-adaccountname-the-account-name-for-the-identity-domain-the-domain-name-that-the-account-was-created-in-state-the-current-state-of-the-ad-account-this-can-be-one-of-the-following-error-the-account-is-locked-or-disabled-in-ad-available-the-account-is-in-ad-and-available-to-be-consumed-by-the-other-machine-creation-services-inuse-the-account-is-in-ad-and-is-being-consumed-by-the-other-machine-creation-services-tainted-the-account-is-in-ad-and-no-longer-consumed-by-other-machine-creation-services-however-the-password-is-no-longer-known-so-cannot-be-reused-without-repairing-the-account-see-repair-acctadaccount-for-details-lock-indicates-if-the-identity-pool-is-locked">Citrix.ADIdentity.Sdk.AccountOperationDetailedSummary<br>          The Add-AcctADAccount returns an object that contains the following parameters;<br>          SuccessfulAccountsCount <int><br>            The number of accounts that were added successfully<br>          FailedAccountsCount <int><br>            The number of accounts that were not added.<br>          FailedAccounts <Citrix.ADIdentity.Sdk.AccountError[]><br>            The list of accounts that failed to be added.  Each one has the following parameters;<br>            ADAccountName <string><br>            ADAccountSid <String><br>            ErrorReason <string><br>            This can be one of the following<br>              IdentityDuplicateObjectExists<br>                An identity with the same SID already exists.<br>              ADServiceDatabaseError<br>                  An error occurred in the service while attempting a database operation.<br>              ADServiceDatabaseNotConfigured<br>                  The operation could not be completed because the database for the service is not configured.<br>              ADServiceStatusInvalidDb<br>                  An error occurred in the service while attempting a database operation - communication with the database failed for<br>                  for various reasons.<br>              FailedToConnectToDomainController<br>                Contacting Active Directory failed.<br>              FailedToGetOrganizationUnitInAD<br>                Failed to access the OU in Active Directory.<br>              FailedToGetDefaultComputerContainerInAD<br>                Failed to access the default computers container in Active Directory.<br>              FailedToCreateComputerAccountInAD<br>                Failed to create the computer account in Active Directory.<br>              FailedToAccessComputerAccountInAD<br>                Failed to read the newly created computer account in Active Directory.<br>              FailedToGetSidFromAD<br>                Failed to get the SID for the created account from Active Directory.<br>              FailedToSetSamAccountNameInAD<br>                Failed to set the SAM account name in Active Directory for the account created.<br>              FailedToSetUserAccountControlInAD<br>                Failed to set the user account controller properties for the account created in Active Directory.<br>              FailedToSaveChangeInAD<br>                Failed to save the changes made to the created computer account in Active Directory.<br>              FailedToSetPasswordInAD<br>                Failed to set the password for the created computer account in Active Directory.<br>              FailedToEnableAccountInAD<br>                Failed to enable the newly created computer account in Active Directory.<br>              ComputerNameAlreadyInUseInAD<br>                The computer name for the computer to create is in use in Active Directory.<br>              FailedToGetDistinguishedNameInAD<br>                Failed to get the distinguished name for the created computer account in ActiveDirectory.<br>              FailedToSetDnsHostNameInAD<br>                Failed to set the Dns Host Name property for the created computer account in ActiveDirectory.<br>              FailedToSetDisplayNameInAD<br>                Failed to set the DisplayName property for the created computer account in ActiveDirectory.<br>              FailedToWriteServicePrincipalNameInAD<br>                Failed to set the ServicePrincipalName property for the created computer account in ActiveDirectory.<br>            DiagnosticInformtion <Exception><br>              Any other error information<br>          SuccessfulAccounts <Citrix.ADIdentity.Sdk.Identity[]><br>            The list of accounts that were successfully added.  Each object<br>            provides details of the identity and contains the following information:<br>            ADAccountSID <string><br>                The Sid of the identity.<br>            ADAccountName <string><br>                      The account name for the identity.<br>                      Domain <string><br>                The domain name that the account was created in.<br>            State <string><br>                The current state of the AD account. This can be one of the following:<br>                Error<br>                   The account is locked or disabled in AD.<br>                Available<br>                   The account is in AD and available to be consumed by the other Machine Creation Services.<br>                InUse<br>                   The account is in AD and is being consumed by the other Machine Creation Services.<br>                Tainted<br>                   The account is in AD and no longer consumed by other Machine Creation Services. However, the password is no longer known so cannot be reused without 'Repairing' the account.  See repair-AcctADAccount for details.<br>            Lock <Boolean><br>                Indicates if the identity pool is locked.</a></h3>
<p>## Notes
   In the case of failure, the following errors can result.<br>    Error Codes<br>    -----------<br>    NamingSchemeNotSpecifiedForIdentityPool<br>    No naming scheme is defined in the specified identity pool.<br>    IdentityPoolObjectNotFound<br>    The specified identity pool was not located.<br>    IdentityPoolAlreadyLocked<br>    The specified identity pool is locked.<br>    PermissionDenied<br>    The user does not have administrative rights to perform this operation.<br>    ConfigurationLoggingError<br>    The operation could not be performed because of a configuration logging error<br>    DatabaseError<br>    An error occurred in the service while attempting a database operation.<br>    DatabaseNotConfigured<br>    The operation could not be completed because the database for the service is not configured.<br>    ServiceStatusInvalidDb<br>    An error occurred in the service while attempting a database operation - communication with the database failed for<br>    for various reasons.<br>    CommunicationError<br>    An error occurred while communicating with the service.<br>    ExceptionThrown<br>    An unexpected error occurred.  To locate more details, see the Windows event logs on the controller being used or examine the XenDesktop logs.</p>
<h2 id="examples"><a class="toclink" href="#examples">Examples</a></h2>
<h3 id="example-1"><a class="toclink" href="#example-1">EXAMPLE 1</a></h3>
<div class="codehilite"><pre><span></span><span class="x">c:\PS&gt;New-AcctADAccount -IdentityPoolName MyPool -Count 2 -OutVariable result</span>

<span class="x">          SuccessfulAccounts                SuccessfulAccountsCount       FailedAccountsCount    FailedAccounts</span>
<span class="x">          ------------------                -----------------------       -------------------    --------------</span>
<span class="x">          </span><span class="err">{</span><span class="x">MyDomain\ACC001, MyDomain\ACC002} 2                            0                      </span><span class="err">{</span><span class="x">}</span>

<span class="x">          </span><span class="p">$</span><span class="nv">result</span><span class="x">[0].SuccessfulAccounts</span>

<span class="x">          ADAccountSid  : S-1-5-21-1315084875-1285793635-2418178940-2684</span>
<span class="x">          ADAccountName : MyDomain\ACC001</span>
<span class="x">          Domain        : MyDomain.com</span>
<span class="x">          State         : Available</span>
<span class="x">          Lock          : False</span>

<span class="x">          ADAccountSid  : S-1-5-21-1315084875-1285793635-2418178940-2685</span>
<span class="x">          ADAccountName : MyDomain\ACC002</span>
<span class="x">          Domain        : MyDomain.com</span>
<span class="x">          State         : Available</span>
<span class="x">          Lock          : False</span>
</pre></div>


<p>Description<br>-----------<br>Creates two new AD accounts and registers them in the identity pool called "MyPool".</p>
<h3 id="example-2"><a class="toclink" href="#example-2">EXAMPLE 2</a></h3>
<div class="codehilite"><pre><span></span><span class="x">c:\PS&gt;New-AcctADAccount -IdentityPoolName MyPool -Count 2 -StartCount 50 -OutVariable result</span>

<span class="x">          SuccessfulAccounts                SuccessfulAccountsCount       FailedAccountsCount    FailedAccounts</span>
<span class="x">          ------------------                -----------------------       -------------------    --------------</span>
<span class="x">          </span><span class="err">{</span><span class="x">MyDomain\ACC050, MyDomain\ACC051} 2                            0                      </span><span class="err">{</span><span class="x">}</span>

<span class="x">          </span><span class="p">$</span><span class="nv">result</span><span class="x">[0].SuccessfulAccounts</span>

<span class="x">          ADAccountSid  : S-1-5-21-1315084875-1285793635-2418178940-2686</span>
<span class="x">          ADAccountName : MyDomain\ACC050</span>
<span class="x">          Domain        : MyDomain.com</span>
<span class="x">          State         : Available</span>
<span class="x">          Lock          : False</span>

<span class="x">          ADAccountSid  : S-1-5-21-1315084875-1285793635-2418178940-2687</span>
<span class="x">          ADAccountName : MyDomain\ACC051</span>
<span class="x">          Domain        : MyDomain.com</span>
<span class="x">          State         : Available</span>
<span class="x">          Lock          : False</span>
</pre></div>


<p>Description<br>-----------<br>Creates two new AD accounts and registers them in the identity pool called "MyPool", starting from an index of 50.</p>
              

            </div>
          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../Get-AcctServiceStatus/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../New-AcctIdentityPool/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>
