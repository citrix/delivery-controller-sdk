
# Set-Userprofiledefinition
Applies one or more modifications to a profile management configuration set.
## Syntax
```
Set-UserProfileDefinition [-ByteArray] <Byte[]> [-ServiceActive <Boolean>] [-ProcessedGroups <String[]>] [-ExcludedGroups <String[]>] [-ProcessAdmins <Boolean>] [-UserStorePath <String>] [-PSMidSessionWriteBack <Boolean>] [-OfflineSupport <Boolean>] [-DeleteCachedProfilesOnLogoff <Boolean>] [-ProfileDeleteDelay <Int32>] [-MigrateWindowsProfilesToUserStore <MigrateWindowsProfilesToUserStoreEnum>] [-LocalProfileConflictHandling <LocalProfileConflictHandlingEnum>] [-TemplateProfilePath <String>] [-TemplateProfileOverridesLocalProfile <Boolean>] [-TemplateProfileOverridesRoamingProfile <Boolean>] [-TemplateProfileIsMandatory <Boolean>] [-LoadRetries <Int32>] [-ProcessCookieFiles <Boolean>] [-DisableDynamicConfig <Boolean>] [-LogoffRatherThanTempProfile <Boolean>] [-DebugMode <Boolean>] [-LogLevel_Warnings <Boolean>] [-LogLevel_Information <Boolean>] [-LogLevel_FileSystemNotification <Boolean>] [-LogLevel_FileSystemActions <Boolean>] [-LogLevel_RegistryActions <Boolean>] [-LogLevel_RegistryDifference <Boolean>] [-LogLevel_ActiveDirectoryActions <Boolean>] [-LogLevel_PolicyUserLogon <Boolean>] [-LogLevel_Logon <Boolean>] [-LogLevel_Logoff <Boolean>] [-LogLevel_UserName <Boolean>] [-MaxLogSize <Int32>] [-DebugFilePath <String>] [-ExclusionList <String[]>] [-IncludeListRegistry <String[]>] [-ExclusionListSyncFiles <String[]>] [-ExclusionListSyncDir <String[]>] [-SyncDirList <String[]>] [-SyncFileList <String[]>] [-MirrorFoldersList <String[]>] [-PSEnabled <Boolean>] [-PSAlwaysCache_Enabled <Boolean>] [-PSAlwaysCache <Int32>] [-PSPendingLockTimeout <Int32>] [-PSUserGroups <String[]>] [-CPEnable <Boolean>] [-CPUserGroups <String[]>] [-CPSchemaPathData <String>] [-CPPathData <String>] [-CPMigrationFromBaseProfileToCPStore <Boolean>] [-FRAdminAccess <Boolean>] [-FRIncDomainName <Boolean>] [-FRAppDataEnabled <FRAppDataEnum>] [-FRAppDataPath <String>] [-FRDesktopEnabled <FRDesktopEnum>] [-FRDesktopPath <String>] [-FRStartMenuEnabled <FRStartMenuEnum>] [-FRStartMenuPath <String>] [-FRDocumentsEnabled <FRDocumentsEnum>] [-FRDocumentsPath <String>] [-FRPicturesEnabled <FRPicturesEnum>] [-FRPicturesPath <String>] [-FRMusicEnabled <FRMusicEnum>] [-FRMusicPath <String>] [-FRVideosEnabled <FRVideosEnum>] [-FRVideosPath <String>] [-FRFavoritesEnabled <FRFavoritesEnum>] [-FRFavoritesPath <String>] [-FRContactsEnabled <FRContactsEnum>] [-FRContactsPath <String>] [-FRDownloadsEnabled <FRDownloadsEnum>] [-FRDownloadsPath <String>] [-FRLinksEnabled <FRLinksEnum>] [-FRLinksPath <String>] [-FRSearchesEnabled <FRSearchesEnum>] [-FRSearchesPath <String>] [-FRSavedGamesEnabled <FRSavedGamesEnum>] [-FRSavedGamesPath <String>] [<CommonParameters>]
```
## Detailed Description
Use this cmdlet to edit the configurations for profile management. The cmdlet defines one input parameter for each settable property. Any number of these settings can be modified in a single call to the cmdlet. The cmdlet also requires the low-level byte array blob containing the original configuration set to be modified. It will return an updated byte array with the settings applied. The resulting byte array can then be stored back at the Broker.


## Related Commands

## Parameters
| Name   | Description | Required? | Pipeline Input | Default Value |
| --- | --- | --- | --- | --- |
| ByteArray | Specifies the original configuration set that is being modified by this invocation of the command. | true | true (ByValue) |  |
| ServiceActive | By default, to facilitate deployment, Profile management does not process logons or logoffs.<br>Turn on processing by enabling this setting.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, Profile management does not process Windows user profiles in any way. | false | false |  |
| ProcessedGroups | Both computer local groups and domain groups (local, global and universal) can be used. Domain groups should be specified in the format: &lt;DOMAIN NAME&gt;\\&lt;GROUP NAME&gt;.<br>If this setting is configured here, Profile management processes only members of these user groups.<br>If this setting is disabled, Profile management processes all users.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, members of all user groups are processed.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| ExcludedGroups | You can use computer local groups and domain groups (local, global, and universal) to prevent particular user profiles from being processed. Specify domain groups in the form &lt;DOMAIN NAME&gt;\\&lt;GROUP NAME&gt;.<br>If this setting is configured here, Profile management excludes members of these user groups.<br>If this setting is disabled, Profile management does not exclude any users.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no members of any groups are excluded.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| ProcessAdmins | Specifies whether logons of members of the local group "Administrators" are processed by Profile management.<br>If this setting is disabled, logons by local administrators are not processed by Profile management.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, administrators will not be processed. | false | false |  |
| UserStorePath | Sets the path to the directory in which the user settings (registry changes and synchronized files) are saved (user store).<br>The path can be an absolute UNC path or a path relative to the home directory.<br>In both cases, the following types of variables can be used: system environment variables enclosed in percent signs and attributes of the Active Directory user object enclosed in hashes.<br>Examples: The folder Windows\\%ProfileVer% stores the user settings in the subfolder called Windows\\W2k3 of the user store (if %ProfileVer% is a system environment variable resolving to W2k3).<br>\\\\server\\share\\#SAMAccountName# stores the user settings to the UNC path \\\\server\\share\\JohnSmith (if #SAMAccountName# resolves to JohnSmith for the current user).<br>User environment variables cannot be used, except for %username% and %userdomain%.<br>If this setting is disabled, the user settings are saved in the Windows subdirectory of the home directory.<br>If this setting is not configured here, the setting from the .ini file is used.<br>If this setting is not configured here or in the .ini file, the Windows directory on the home drive is used. | false | false |  |
| PSMidSessionWriteBack | With this setting, files and folders (but not Registry entries) that are modified can be synchronized to the user store in the middle of a session, before logoff.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, active write back is disabled. | false | false |  |
| OfflineSupport | Enables the offline profiles feature. This is intended for computers that are commonly removed from networks, typically laptops or mobile devices not servers or desktops.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, offline profile support is disabled. | false | false |  |
| DeleteCachedProfilesOnLogoff | Specifies whether locally cached profiles are deleted after logoff.<br>If this setting is enabled, a user's local profile cache is deleted after they have logged off. This is recommended for terminal servers.<br>If this setting is disabled cached profiles are not deleted.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, cached profiles are not deleted. | false | false |  |
| ProfileDeleteDelay | Works only if 'Delete locally cached profiles on logoff' is enabled. Sets an optional extension to the delay before locally cached profiles are deleted at logoff. A value of 0 deletes the profiles immediately during logoff processing. Checks take place every minute, so a value of 60 ensures that profiles are deleted between one and two minutes after users have logged off (depending on when the last check took place). Extending the delay is useful if you know that a process keeps files or the user registry hive open during logoff. With large profiles, this can also speed up logoff.<br>If this policy is not configured here, the value from the .ini file is used.<br>If this policy is not configured here or in the .ini file, profiles are deleted immediately. | false | false |  |
| MigrateWindowsProfilesToUserStore | Profile management can migrate existing profiles "on the fly" during logon if the user has no profile in the user store.<br>The following event takes place during logon: if an existing Windows profile is found and the user does not yet have a Citrix user profile in the user store, the Windows profile is migrated (copied) to the user store on the fly. After this process, the user store profile is used by Profile management in the current and any other session configured with the path to the same user store.<br>If this setting is enabled, profile migration can be activated for roaming and local profiles (the default), roaming profiles only, local profiles only, or profile migration can be disabled altogether.<br>If profile migration is disabled and no Citrix user profile exists in the user store, the existing Windows mechanism for creating new profiles is used as in a setup without Profile management.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, it is disabled by default. | false | false |  |
| LocalProfileConflictHandling | This setting configures what Profile management does if both a profile in the user store and a local Windows user profile (not a Citrix user profile) exist.<br>If this setting is disabled or set to the default value of "Use local profile", Profile management uses the local profile, but does not change it in any way.<br>If this setting is set to "Delete local profile", Profile management deletes the local Windows user profile, and then imports the Citrix user profile from the user store.<br>If this setting is set to "Rename local profile", Profile management renames the local Windows user profile (in order to back it up) and then imports the profile from the user store.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, existing local profiles are used. | false | false |  |
| TemplateProfilePath | By default, new user profiles are created from the default user profile on the computer where a user first logs on. Profile management can alternatively use a centrally stored template when creating new user profiles. Template profiles are identical to normal profiles in that they reside in any file share on the network. Use UNC notation to specifying paths to templates. Users need read access to a template profile.<br>If this setting is disabled, templates are not used.<br>If this setting is enabled, Profile management uses the template instead of the local default profile when creating new user profiles.<br>If a user has no Citrix user profile, but a local Windows user profile exists, by default the local profile is used (and migrated to the user store, if this is not disabled). This can be changed by enabling the setting "Template profile overrides local profile".<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no template is used. | false | false |  |
| TemplateProfileOverridesLocalProfile | By default, new user profiles are created from the default user profile on the computer where a user first logs on. Profile management can alternatively use a centrally stored template when creating new user profiles. Template profiles are identical to normal profiles in that they reside in any file share on the network. Use UNC notation to specifying paths to templates. Users need read access to a template profile.<br>If this setting is disabled, templates are not used.<br>If this setting is enabled, Profile management uses the template instead of the local default profile when creating new user profiles.<br>If a user has no Citrix user profile, but a local Windows user profile exists, by default the local profile is used (and migrated to the user store, if this is not disabled). This can be changed by enabling the setting "Template profile overrides local profile".<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no template is used. | false | false |  |
| TemplateProfileOverridesRoamingProfile | By default, new user profiles are created from the default user profile on the computer where a user first logs on. Profile management can alternatively use a centrally stored template when creating new user profiles. Template profiles are identical to normal profiles in that they reside in any file share on the network. Use UNC notation to specifying paths to templates. Users need read access to a template profile.<br>If this setting is disabled, templates are not used.<br>If this setting is enabled, Profile management uses the template instead of the local default profile when creating new user profiles.<br>If a user has no Citrix user profile, but a local Windows user profile exists, by default the local profile is used (and migrated to the user store, if this is not disabled). This can be changed by enabling the setting "Template profile overrides local profile".<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no template is used. | false | false |  |
| TemplateProfileIsMandatory | By default, new user profiles are created from the default user profile on the computer where a user first logs on. Profile management can alternatively use a centrally stored template when creating new user profiles. Template profiles are identical to normal profiles in that they reside in any file share on the network. Use UNC notation to specifying paths to templates. Users need read access to a template profile.<br>If this setting is disabled, templates are not used.<br>If this setting is enabled, Profile management uses the template instead of the local default profile when creating new user profiles.<br>If a user has no Citrix user profile, but a local Windows user profile exists, by default the local profile is used (and migrated to the user store, if this is not disabled). This can be changed by enabling the setting "Template profile overrides local profile".<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no template is used. | false | false |  |
| LoadRetries | Sets the number of retries when accessing locked files.<br>If this setting is disabled the default value of five retries is used.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, the default value of five retries is used. | false | false |  |
| ProcessCookieFiles | Some deployments leave extra Internet cookies that are not referenced by the file index.dat. The extra cookies left in the file system after sustained browsing can lead to profile bloat. Enable this setting to force processing of index.dat and remove the extra cookies. The setting might slightly increase logoff time. Enable this setting only when you experience the issue.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no processing of index.dat takes place. | false | false |  |
| DisableDynamicConfig | Profile management 5.x examines its environment and configures itself accordingly. To disable this for troubleshooting or to retain the settings you used in an earlier version, enable this setting.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, automatic configuration is turned on so Profile management settings might change if the environment changes. | false | false |  |
| LogoffRatherThanTempProfile | If a problem is encountered when the user logs on (for example, if the user store is unavailable) a temporary profile is provided.<br>Alternatively, enabling this setting displays an error message and logs the user off.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, a temporary profile is provided. | false | false |  |
| DebugMode | Activation of this setting enables debug mode (verbose logging). In debug mode, extensive status information is logged in the log files in "%SystemRoot%\\System32\\Logfiles\\UserProfileManager" or in the location specified by the "Path to log file" policy setting.<br>If this setting is disabled only errors are logged.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, only errors are logged. | false | false |  |
| LogLevel_Warnings | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_Information | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_FileSystemNotification | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_FileSystemActions | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_RegistryActions | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_RegistryDifference | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_ActiveDirectoryActions | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_PolicyUserLogon | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_Logon | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_Logoff | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| LogLevel_UserName | Detailed log settings.<br>Define events or actions which Profile management logs in depth.<br>If this setting is not configured here, Profile management uses the settings from the .ini file.<br>If this setting is not configured here or in the .ini file, errors and general information are logged. | false | false |  |
| MaxLogSize | Sets the maximum size of the log file in bytes. If the log file grows beyond this size an existing backup of the file (.bak) is deleted, the log file is renamed to .bak, and a new log file is created.<br>The log file is created in "%SystemRoot%\\System32\\Logfiles\\UserProfileManager" or in the location specified by the "Path to log file" policy setting.<br>If this setting is disabled, the default value of 10 MB is used.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, the default of 10 MB is used. | false | false |  |
| DebugFilePath | Sets an alternative path to which the log files are saved.<br>The path can point to a local drive or a remote, network-based one (a UNC path). Remote paths can be useful in large, distributed environments but they can create significant network traffic, which may be inappropriate for log files. For provisioned, virtual machines with a persistent hard drive, set a local path to that drive. This ensures log files are preserved when the machine restarts. For virtual machines without a persistent hard drive, setting a UNC path allows you to retain the log files but the system account for the machines must have write access to the UNC share. Use a local path for any laptops managed by the offline profiles feature.<br>Examples: D:\\LogFiles\\ProfileManagement. \\\\servername\\LogFiles\\ProfileManagement<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, the default location "%SystemRoot%\\System32\\Logfiles\\UserProfileManager" is used.<br>If a UNC path is used for log files then Citrix recommends that an appropriate access control list is applied to the log file folder to ensure that only authorized user or computer accounts can access the stored files. | false | false |  |
| ExclusionList | List of registry keys in the HKCU hive which are ignored during logoff.<br>Example: Software\\Policies.<br>If this setting is disabled, no registry keys are excluded.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no registry keys are excluded.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| IncludeListRegistry | List of registry keys in the HKCU hive that are processed during logoff. Example: Software\\Adobe.<br>If this setting is enabled, only keys on this list are processed.<br>If this setting is disabled, the complete HKCU hive is processed.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, all of HKCU is processed.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| ExclusionListSyncFiles | List of files that are ignored during synchronization.<br>File names should be specified as paths relative to the user profile. Wildcards are allowed. Wildcards are applied recursively.<br>Note: As of Profile Management 7.15, you can use the vertical bar '|' for applying a policy to only the current folder without propagating it to the subfolders.<br>Examples: Desktop\\Desktop.ini ignores the file Desktop.ini in the Desktop directory.<br>AppData\\\*.tmp ignores all files with the extension .tmp in the directory AppData and its subfolders.<br>AppData\\\*.tmp| ignores all files with the extension .tmp in the directory AppData.<br>If this setting is disabled, no files are excluded.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no files are excluded.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| ExclusionListSyncDir | List of directories that are ignored during synchronization.<br>Folder names should be specified as paths relative to the user profile.<br>Examples: Entering "Desktop" (without quotes) ignores the Desktop directory in the user profile.<br>If this setting is disabled, no folders are excluded.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no folders are excluded.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| SyncDirList | Profile management synchronizes each user's entire profile between the system it is installed on and the user store. It is not necessary to include subfolders of the user profile by adding them to this list.<br>In addition, it allows for the inclusion of directories below excluded folders.<br>Paths on this list should be relative to the user profile.<br>Examples: Desktop\\exclude\\include specifies the subfolder include of the folder Desktop\\exclude.<br>Disabling this setting has the same effect as enabling it and configuring an empty list.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, only non-excluded folders in the user profile are synchronized.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| SyncFileList | Profile management synchronizes each user's entire profile between the system it is installed on and the user store. It is not necessary to include files in the user profile by adding them to this list.<br>This setting allows for the inclusion of files below excluded folders.<br>Paths on this list should be relative to the user profile. Wildcards can be used but are only allowed for file names. Wildcards cannot be nested and are applied recursively.<br>Note: As of Profile Management 7.15, you can use the vertical bar '|' for applying a policy to only the current folder without propagating it to the subfolders.<br>Examples: AppData\\Local\\Microsoft\\Office\\Access.qat specifies a file below a folder excluded in the default configuration.<br>AppData\\Local\\MyApp\\\*.cfg specifies all files with the extension .cfg in the profile folder AppData\\Local\\MyApp and its subfolders.<br>AppData\\Local\\MyApp\\\*.cfg| specifies all files with the extension .cfg in the profile folder AppData\\Local\\MyApp.<br>Disabling this setting has the same effect as enabling it and configuring an empty list.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, only non-excluded files in the user profile are synchronized.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| MirrorFoldersList | Profile management can mirror a folder relative to the profile's root folder. Use this setting for files whose contents index data and where separate instances of the data are likely to exist. For example, you can mirror the Internet Explorer cookies folder so that index.dat is synchronized with the cookies that it indexes. Be aware that, in these situations the "last write wins" so files in mirrored folders that have been modified in more than one session will be overwritten by the last update, resulting in loss of profile changes.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| PSEnabled | With profile streaming, users' profiles are synchronized on the local computer only when they are needed. Registry entries are cached immediately, but files and folders are only cached when accessed by users. | false | false |  |
| PSAlwaysCache_Enabled | Optionally, to enhance the user experience, use this setting with the Profile streaming setting, which imposes a lower limit on the size of files that are streamed. Any files this size or larger are cached as soon as possible after logon. To use the cache entire profile feature, set this limit to zero (which caches all of the profile contents). | false | false |  |
| PSAlwaysCache | Optionally, to enhance the user experience, use this setting with the Profile streaming setting, which imposes a lower limit on the size of files that are streamed. Any files this size or larger are cached as soon as possible after logon. To use the cache entire profile feature, set this limit to zero (which caches all of the profile contents). | false | false |  |
| PSPendingLockTimeout | You can set a timeout period that frees up users' files so they are written back to the user store from the pending area in the event that the user store remains locked when a server becomes unresponsive (for example, when it goes down). Use this setting to prevent bloat in the pending area and to ensure the user store always contains the most up-to-date files. | false | false |  |
| PSUserGroups | Enter one or more Windows user groups.<br>If this setting is enabled, only the profiles of those groups' members are streamed. If this setting is disabled, all user groups are processed.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, all users are processed.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| CPEnable | By default, to facilitate deployment, cross-platform settings is disabled.<br>Turn on processing by enabling this setting.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no cross-platform settings will be applied. | false | false |  |
| CPUserGroups | Enter one or more Windows user groups.<br>If this setting is configured, the cross-platform settings feature of Profile management processes only members of these user groups. If this setting is disabled, all user groups are processed.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, all user groups are processed.<br>Note: Use Enter to separate multiple entries. | false | false |  |
| CPSchemaPathData | Specify a folder where the definition files are located.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, no cross-platform settings will be applied.<br>Note: \* The folder can be local or it can reside on an SMB file share. | false | false |  |
| CPPathData | Sets the path to the directory in which users' cross-platform settings are saved (cross-platform settings store).<br>The path can be an absolute UNC path or a path relative to the home directory.<br>In both cases, the following types of variables can be used: system environment variables enclosed in percent signs and attributes of the Active Directory user object enclosed in hashes.<br>User environment variables cannot be used, except for %username% and %userdomain%.<br>If this setting is disabled, the path Windows\\PM\_CP is used.<br>If this setting is not configured here, the value from the .ini file is used.<br>If this setting is not configured here or in the .ini file, the default value Windows\\PM\_CP is used. | false | false |  |
| CPMigrationFromBaseProfileToCPStore | Default: Disabled<br>Definition files contain a set of definitions that configure an application. If the cross-platform settings store contains a definition with no data, or the cached data in the single-platform profile is newer than the definition's data in the store, Profile management only migrates the data from the single-platform profile to the store if you enable this setting. | false | false |  |
| FRAdminAccess | By default, users are granted exclusive access to the contents of their redirected folders.<br>Enabling this option allows administrator access to the contents of the users redirected folders. | false | false |  |
| FRIncDomainName | Enabling this option will include the %userdomain% environment variable as part of the UNC path. | false | false |  |
| FRAppDataEnabled | Specify how to redirect the AppData(Roaming) folder | false | false |  |
| FRAppDataPath | Specify how to redirect the AppData(Roaming) folder | false | false |  |
| FRDesktopEnabled | Specify how to redirect the Desktop folder | false | false |  |
| FRDesktopPath | Specify how to redirect the Desktop folder | false | false |  |
| FRStartMenuEnabled | Specify how to redirect the Start Menu folder | false | false |  |
| FRStartMenuPath | Specify how to redirect the Start Menu folder | false | false |  |
| FRDocumentsEnabled | Specify how to redirect the Documents folder | false | false |  |
| FRDocumentsPath | Specify how to redirect the Documents folder | false | false |  |
| FRPicturesEnabled | Specify how to redirect the Pictures folder | false | false |  |
| FRPicturesPath | Specify how to redirect the Pictures folder | false | false |  |
| FRMusicEnabled | Specify how to redirect the Music folder | false | false |  |
| FRMusicPath | Specify how to redirect the Music folder | false | false |  |
| FRVideosEnabled | Specify how to redirect the Videos folder | false | false |  |
| FRVideosPath | Specify how to redirect the Videos folder | false | false |  |
| FRFavoritesEnabled | Specify how to redirect the Favorites folder | false | false |  |
| FRFavoritesPath | Specify how to redirect the Favorites folder | false | false |  |
| FRContactsEnabled | Specify how to redirect the Contacts folder | false | false |  |
| FRContactsPath | Specify how to redirect the Contacts folder | false | false |  |
| FRDownloadsEnabled | Specify how to redirect the Downloads folder | false | false |  |
| FRDownloadsPath | Specify how to redirect the Downloads folder | false | false |  |
| FRLinksEnabled | Specify how to redirect the Links folder | false | false |  |
| FRLinksPath | Specify how to redirect the Links folder | false | false |  |
| FRSearchesEnabled | Specify how to redirect the Searches folder | false | false |  |
| FRSearchesPath | Specify how to redirect the Searches folder | false | false |  |
| FRSavedGamesEnabled | Specify how to redirect the Saved Games folder | false | false |  |
| FRSavedGamesPath | Specify how to redirect the Saved Games folder | false | false |  |

## Input Type

### None

## Return Values

### Byte\[\]
The new configuration set, with all of the given modifications applied.
## Examples

### Example 1
```
C:PS> $blob = New-UserProfileConfiguration

C:PS> $updatedBlob = Set-UserProfileDefinition -ByteArray $blob -ServiceActive $true -UserStorePath \\ProfileServer\Profiles$\%USERNAME%.%USERDOMAIN
```
#### Description
The first command creates a new user profile configuration in its default state, and stores the byte array in a Windows PowerShell variable. The second command then edits this configuration by setting the ServiceActive property to TRUE (which has the effect of enabling the profile management service), and by setting the path to the profile store. All other settings remain unaffected, and hence in their default state.
